<!DOCTYPE>
<html>
<head>
    <meta charset="utf-8">
    <title>IFE JavaScript Task 21</title>
</head>
<style>
    body {
        height: 700px;
        width: 100%;
    }
    div {
        height: 80%;
        width: 80%;
        padding: 20px;
        margin: 20px;
        display: flex;
        justify-content: space-around;
        border: 1px solid;
        font-size: 20px;
        font-style: oblique;
    }
</style>
<body>

<div id="1">1
    <div id="2">2
        <div id="5">5
            <div id="10">10</div>
            <div id="11">11</div>
            <div id="12">12</div>
            <div id="13">13</div>
        </div>
        <div id="6">6</div>
        <div id="7">7

            <div id="14">14</div>
            <div id="15">15</div>
        </div>
    </div>
    <div id="3">3
        <div id="8">8
            <div id="16">16</div>
            <div id="17">17</div>
            <div id="18">18</div>
        </div>
        <div id="9">9
            <div id="19">19
                <div id="21">21</div>
            </div>
            <div id="20">20</div>
        </div>
    </div>
    <div id="4">4

    </div>
</div>
<button id="pre">前序遍历</button>
</body>
<script>
    // 顺序存储结构
    var res = []; //!!!!!需要把节点先存在数组后再取值，实时取 dom 节点 刷新不了 null

    // 链式存储结构
//    function BinaryTree(data, leftChild, rightChild) {
//        this.data = data || null;
//        // 左右孩子结点
//        this.leftChild = leftChild || null;
//        this.rightChild = rightChild || null;
//    }

    var roots = document.getElementById('1');
    function preOrderTraverse() {
        var sequence = [roots];
        var i =0;
        for(;i < sequence.length;i++){
            res.push(sequence[i]);//push 到 res 中
            console.log(sequence[i]);
            var nodes = sequence[i].children;
            for(var j=0;j<nodes.length;j++) {
                sequence.push(nodes[j]);
            }
            sequence.shift();
            i = -1;
        }
    }

    function changeColor() {
        var i = 0;
        var timer = setInterval(function(){
            var curnode = res[i];
            curnode.style.background = 'red';
            if(i!==0) {
                var prenode = res[i-1];
                prenode.style.background = 'white';
            }
            if(i === res.length - 1 ) {
                clearInterval(timer);
                setTimeout(function(){
                    curnode.style.background = 'white';
                },1000);
            }
            i++;
        },1000)
    }
    function preTraverse() {
        preOrderTraverse();
        changeColor();
    }

    (function (){
       document.getElementById('pre').onclick = preTraverse;
    })();

</script>
</html>